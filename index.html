<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Genera Dino - Desktop & Mobile</title>
    <style>
        :root { --p: #1b5e20; --d: #0a0a0a; --c: #1a1a1a; --a: #ffca28; --t: #f0f0f0; --r: #c62828; }
        body { font-family: -apple-system, sans-serif; background: var(--d); color: var(--t); margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        header { background: var(--p); width: 100%; padding: 15px 0; text-align: center; border-bottom: 2px solid var(--a); position: sticky; top: 0; z-index: 99; }
        
        /* CONTAINER PRINCIPAL */
        .main-container { width: 95%; max-width: 1200px; padding: 20px 0; text-align: center; }

        /* LISTA QUE MUDA CONFORME A TELA */
        #wrapper-list { 
            display: flex; 
            flex-wrap: wrap; /* Faz pular linha no PC */
            gap: 20px; 
            justify-content: center; /* Centraliza no PC */
            margin-top: 20px;
        }

        /* CARD DO DINOSSAURO */
        .dino-card { 
            background: var(--c); 
            padding: 15px; 
            border-radius: 15px; 
            border: 1px solid #333; 
            text-align: center; 
            position: relative;
            flex: 0 0 100%; /* No celular ocupa tudo */
            max-width: 350px; /* Largura máxima para não ficar gigante */
            box-sizing: border-box;
        }

        /* AJUSTE PARA COMPUTADOR (Telas maiores que 768px) */
        @media (min-width: 768px) {
            .dino-card {
                flex: 0 0 calc(33.33% - 20px); /* 3 por linha no PC */
                min-width: 300px;
            }
        }

        .btn-universal { background: var(--p); color: white; border: none; padding: 12px; border-radius: 10px; font-weight: bold; width: 100%; cursor: pointer; font-size: 1rem; }
        .btn-add-new { background: var(--a); color: #000; margin-bottom: 10px; padding: 18px; font-size: 1.1rem; max-width: 400px; }
        
        .display-result { font-size: 1.5rem; color: var(--a); margin: 12px 0; font-weight: 800; text-transform: uppercase; min-height: 40px; }
        
        .grid-stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 15px; }
        .box-stat { background: #222; padding: 10px 2px; border-radius: 8px; border-bottom: 3px solid var(--p); }
        .label-stat { font-size: 0.65rem; color: #aaa; display: block; }
        .val-stat { color: var(--a); font-weight: bold; font-size: 0.9rem; }
        
        .remove-trigger { background: var(--r); color: white; border: none; padding: 5px 12px; border-radius: 5px; font-size: 0.7rem; position: absolute; top: 10px; right: 10px; cursor: pointer; }
        
        footer { padding: 25px; text-align: center; font-size: 0.8rem; color: #666; width: 100%; background: #000; margin-top: auto; }
    </style>
</head>
<body>

<header>
    <b id="head-title">GENERA - DINOSAUR HUB</b>
</header>

<div class="main-container">
    <button class="btn-universal btn-add-new" onclick="addDinoBox()">+ ADICIONAR NOVA CRIATURA</button>
    <div id="wrapper-list"></div>
</div>

<footer>
    <div style="color:var(--a)">Isaque criou este jogo espero que goste</div>
    <div style="font-style: italic; opacity: 0.5;">Isaque created this game hope you like it</div>
</footer>

<script>
    const DINO_POOL = ["Spinosaurus", "T-Rex", "Velociraptor", "Pteranodon", "Ankylosaurus", "Stegosaurus", "Triceratops", "Ceratosaurus", "Baryonyx", "Carnotaurus"];
    const CHANCE_POOL = ["0%", "25%", "50%", "75%", "100%"];
    let globalCounter = 0;

    function addDinoBox() {
        globalCounter++;
        const container = document.getElementById('wrapper-list');
        const id = globalCounter;
        
        const card = document.createElement('div');
        card.className = 'dino-card';
        card.id = `box-${id}`;
        
        card.innerHTML = `
            <button class="remove-trigger" onclick="document.getElementById('box-${id}').remove()">REMOVER</button>
            <div style="font-size: 0.7rem; color: #555; text-align: left;">CRIATURA #${id}</div>
            <div class="display-result" id="dino-res-${id}">AGUARDANDO...</div>
            
            <div class="grid-stats">
                <div class="box-stat"><span class="label-stat">ATK</span><span class="val-stat" id="atk-${id}">--</span></div>
                <div class="box-stat"><span class="label-stat">DEF</span><span class="val-stat" id="def-${id}">--</span></div>
                <div class="box-stat"><span class="label-stat">ENE</span><span class="val-stat" id="ene-${id}">--</span></div>
            </div>
            
            <button class="btn-universal" onclick="triggerSpin(${id})">GERAR TUDO</button>
        `;
        
        container.appendChild(card); // Usa appendChild para colocar no final (da esquerda para direita)
    }

    function triggerSpin(id) {
        const dinoText = document.getElementById(`dino-res-${id}`);
        let count = 0;
        const timerDino = setInterval(() => {
            dinoText.innerText = DINO_POOL[Math.floor(Math.random() * DINO_POOL.length)];
            if(count++ > 12) {
                clearInterval(timerDino);
                dinoText.innerText = "⭐ " + dinoText.innerText + " ⭐";
            }
        }, 50);

        const stats = [`atk-${id}`, `def-${id}`, `ene-${id}`];
        let has100 = false;
        let has0 = false;

        stats.forEach((sid) => {
            let final = CHANCE_POOL[Math.floor(Math.random() * 5)];
            if(final === "100%") {
                if(has100 && Math.random() > 0.05) final = "75%";
                else has100 = true;
            }
            if(final === "0%") {
                if(has0 && Math.random() > 0.05) final = "25%";
                else has0 = true;
            }

            let scount = 0;
            const timerStat = setInterval(() => {
                document.getElementById(sid).innerText = CHANCE_POOL[Math.floor(Math.random() * 5)];
                if(scount++ > 10) {
                    clearInterval(timerStat);
                    document.getElementById(sid).innerText = final;
                }
            }, 70);
        });
    }

    // Começa com a primeira criatura
    window.onload = addDinoBox;
</script>
</body>
</html>
