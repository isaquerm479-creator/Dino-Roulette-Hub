<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Spin Dinosaur - Genera Multi</title>
    <style>
        :root { --primary: #1b5e20; --dark: #0a0a0a; --card: #1a1a1a; --accent: #ffca28; --text: #f0f0f0; --danger: #c62828; }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--dark); color: var(--text); margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding-bottom: 50px; }
        header { background: var(--primary); width: 100%; padding: 15px 0; text-align: center; display: flex; justify-content: space-around; align-items: center; box-shadow: 0 4px 15px rgba(0,0,0,0.6); border-bottom: 2px solid var(--accent); position: sticky; top: 0; z-index: 100; }
        .lang-btn { background: #00000044; color: white; border: 1px solid white; padding: 5px 10px; border-radius: 5px; font-size: 0.7rem; cursor: pointer; }
        .container { width: 92%; max-width: 450px; margin-top: 15px; }
        .card { background: var(--card); padding: 15px; border-radius: 15px; margin-bottom: 25px; border: 1px solid #333; text-align: center; position: relative; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .btn { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 10px; font-weight: bold; width: 100%; margin-top: 8px; font-size: 0.9rem; cursor: pointer; }
        .btn-add { background: var(--accent); color: var(--dark); margin: 15px 0; padding: 15px; font-size: 1.1rem; }
        .result { font-size: 1.5rem; color: var(--accent); margin: 10px 0; font-weight: bold; text-transform: uppercase; min-height: 35px; }
        .status-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px; margin-top: 15px; }
        .status-box { background: #222; padding: 8px 2px; border-radius: 8px; border-bottom: 3px solid var(--primary); }
        .status-label { font-size: 0.65rem; color: #888; display: block; margin-bottom: 4px; }
        .status-val { color: var(--accent); font-weight: bold; font-size: 0.9rem; }
        .btn-delete { background: var(--danger); color: white; border: none; padding: 5px 10px; border-radius: 5px; font-size: 0.7rem; cursor: pointer; position: absolute; top: -10px; right: 10px; }
        footer { margin-top: auto; padding: 20px; text-align: center; font-size: 0.85rem; color: #888; width: 100%; background: #0f0f0f; }
    </style>
</head>
<body>

<header>
    <div style="width: 60px"></div> 
    <span id="txt-title">SPIN DINOSAUR - GENERA</span>
    <button class="lang-btn" onclick="toggleLang()">EN / PT</button>
</header>

<div class="container">
    <button class="btn btn-add" onclick="createNewDinoCard()" id="txt-add-btn">+ ADICIONAR NOVA CRIATURA</button>
    <div id="dino-list">
        </div>
</div>

<footer>
    <div id="sig-pt">Isaque criou este jogo espero que goste</div>
    <div id="sig-en" style="font-style: italic; opacity: 0.6;">Isaque created this game hope you like it</div>
</footer>

<script>
    const dinosPool = ["Spinosaurus", "T-Rex", "Velociraptor", "Pteranodon", "Ankylosaurus", "Stegosaurus", "Triceratops", "Ceratosaurus", "Baryonyx"];
    const chances = ["0%", "25%", "50%", "75%", "100%"];
    let cardCount = 0;
    let currentLang = 'pt';

    const translations = {
        pt: { title: "SPIN DINOSAUR - GENERA", add: "+ ADICIONAR NOVA CRIATURA", creature: "CRIATURA", spin: "GIRAR TUDO", del: "REMOVER", atk: "ATK", def: "DEF", en: "ENER" },
        en: { title: "SPIN DINOSAUR - GENERA", add: "+ ADD NEW CREATURE", creature: "CREATURE", spin: "SPIN ALL", del: "REMOVE", atk: "ATK", def: "DEF", en: "ENER" }
    };

    function toggleLang() {
        currentLang = currentLang === 'pt' ? 'en' : 'pt';
        document.getElementById('txt-title').innerText = translations[currentLang].title;
        document.getElementById('txt-add-btn').innerText = translations[currentLang].add;
        // Atualiza botões existentes
        document.querySelectorAll('.btn-spin-label').forEach(b => b.innerText = translations[currentLang].spin);
        document.querySelectorAll('.btn-del-label').forEach(b => b.innerText = translations[currentLang].del);
    }

    function createNewDinoCard() {
        cardCount++;
        const list = document.getElementById('dino-list');
        const cardId = `card-${cardCount}`;
        
        const card = document.createElement('div');
        card.className = 'card';
        card.id = cardId;
        
        card.innerHTML = `
            <button class="btn-delete btn-del-label" onclick="removeCard('${cardId}')">${translations[currentLang].del}</button>
            <h3 style="margin:0; font-size:0.9rem; color:#666;">${translations[currentLang].creature} #${cardCount}</h3>
            <div class="result" id="res-dino-${cardCount}">...</div>
            
            <div class="status-grid">
                <div class="status-box">
                    <span class="status-label">${translations[currentLang].atk}</span>
                    <span class="status-val" id="res-atk-${cardCount}">--</span>
                </div>
                <div class="status-box">
                    <span class="status-label">${translations[currentLang].def}</span>
                    <span class="status-val" id="res-def-${cardCount}">--</span>
                </div>
                <div class="status-box">
                    <span class="status-label">${translations[currentLang].en}</span>
                    <span class="status-val" id="res-ener-${cardCount}">--</span>
                </div>
            </div>
            
            <button class="btn btn-spin-label" onclick="spinFullCard(${cardCount})">${translations[currentLang].spin}</button>
        `;
        
        list.prepend(card); // Adiciona no topo
    }

    function removeCard(id) {
        document.getElementById(id).remove();
    }

    function spinFullCard(id) {
        // Girar Dino
        const resDino = document.getElementById(`res-dino-${id}`);
        let c = 0;
        const tDino = setInterval(() => {
            resDino.innerText = dinosPool[Math.floor(Math.random()*dinosPool.length)];
            if(c++ > 10) { 
                clearInterval(tDino); 
                resDino.innerText = "⭐ " + resDino.innerText + " ⭐";
            }
        }, 60);

        // Girar Status (Com a regra de raridade de 5%)
        const statsIds = [`res-atk-${id}`, `res-def-${id}`, `res-ener-${id}`];
        let has100 = false;
        let has0 = false;

        statsIds.forEach((sid) => {
            let finalVal = chances[Math.floor(Math.random()*5)];
            
            // Regra de equilíbrio
            if(finalVal === "100%") {
                if(has100 && Math.random() > 0.05) finalVal = "75%";
                else has100 = true;
            }
            if(finalVal === "0%") {
                if(has0 && Math.random() > 0.05) finalVal = "25%";
                else has0 = true;
            }

            let sc = 0;
            const tStat = setInterval(() => {
                document.getElementById(sid).innerText = chances[Math.floor(Math.random()*5)];
                if(sc++ > 8) {
                    clearInterval(tStat);
                    document.getElementById(sid).innerText = finalVal;
                }
            }, 80);
        });
    }

    // Cria a primeira roleta automaticamente ao abrir
    window.onload = createNewDinoCard;
</script>
</body>
</html>
