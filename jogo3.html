<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dino Genera - Jurassic World 3</title>
    <style>
        :root { 
            --p: #1b5e20; --d: #0a0a0a; --c: #1a1a1a; 
            --a: #ffca28; --t: #f0f0f0; --r: #c62828; 
        }
        
        body { 
            font-family: -apple-system, sans-serif; 
            background: var(--d); color: var(--t); 
            margin: 0; padding: 0; overflow-x: hidden; 
        }

        header { 
            background: var(--p); padding: 15px; 
            display: flex; justify-content: space-between; align-items: center; 
            border-bottom: 2px solid var(--a); position: sticky; top: 0; z-index: 1000; 
        }
        
        .sidebar { 
            position: fixed; left: -320px; top: 0; width: 280px; height: 100%; 
            background: var(--c); z-index: 2000; transition: 0.4s; 
            padding: 25px; border-right: 2px solid var(--p); 
            display: flex; flex-direction: column; overflow-y: auto; box-sizing: border-box;
        }
        .sidebar.open { transform: translateX(320px); }
        
        .overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
            display: none; z-index: 1500; backdrop-filter: blur(3px); 
        }

        /* DLC Estilo */
        .dlc-item {
            display: flex; justify-content: space-between; align-items: center;
            background: #222; margin-bottom: 5px; padding: 8px; border-radius: 5px;
            font-size: 0.8rem; cursor: pointer; border: 1px solid #444;
        }
        .dlc-active { border-color: #4caf50; background: #1b3d1d; }
        .status-dot { width: 8px; height: 8px; border-radius: 50%; background: #555; }
        .active-dot { background: #44ff44; box-shadow: 0 0 5px #44ff44; }

        .guide-section { 
            background: #111; padding: 12px; border-radius: 10px; 
            margin-bottom: 15px; border: 1px solid #333; 
        }
        .guide-title { 
            font-size: 0.7rem; color: var(--a); font-weight: bold; 
            margin-bottom: 8px; display: block; text-transform: uppercase; 
        }
        .legend-item { display: flex; align-items: center; font-size: 0.75rem; margin-bottom: 4px; color: #bbb; }
        .dot { width: 10px; height: 10px; border-radius: 50%; margin-right: 8px; }

        .main-content { padding: 20px; display: flex; flex-direction: column; align-items: center; }
        
        .controls-box { 
            background: #111; padding: 15px; border-radius: 15px; 
            margin-bottom: 25px; border: 1px solid #222; width: 95%; max-width: 500px;
        }
        .top-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        
        .dino-card { 
            background: var(--c); padding: 20px; border-radius: 15px; 
            border: 2px solid #333; width: 280px; position: relative; 
            transition: 0.4s; margin-bottom: 20px; 
        }
        
        .card-car { border-color: #ff4444 !important; }
        .card-her { border-color: #44ff44 !important; }
        .card-pis { border-color: #4444ff !important; }
        .card-oni { border-color: #ffaa44 !important; }

        .display-result { 
            font-size: 1.2rem; color: var(--a); margin: 15px 0; 
            font-weight: 900; text-align: center; text-transform: uppercase; min-height: 40px; 
        }
        
        .grid-stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 15px; }
        .box-stat { background: #000; padding: 10px 2px; border-radius: 10px; text-align: center; border-bottom: 1px solid #333; }
        .stat-label { font-size: 0.6rem; color: #555; display: block; }
        .val-stat { color: #fff; font-weight: bold; font-size: 0.9rem; }
        .val-neg { color: #ff4444 !important; }
        .val-pos { color: #44ff44 !important; }

        .btn { border: none; border-radius: 8px; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        .btn-p { background: var(--p); color: white; padding: 12px; width: 100%; }
        .btn-a { background: var(--a); color: black; padding: 12px; width: 100%; margin-top: 5px; }
        .btn-clear { background: var(--r); color: white; }
        .btn-spin-all { background: #1565c0; color: white; grid-column: span 2; padding: 15px; font-size: 1rem; margin-bottom: 5px; }
        .btn-add-quick { background: #4caf50; color: white; grid-column: span 1; padding: 12px; }
        .btn-r { background: #333; color: var(--r); padding: 5px 10px; position: absolute; top: 12px; right: 12px; }
        
        #wrapper-list { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; width: 100%; }
        
        .side-item { margin-bottom: 20px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        label { display: block; margin-bottom: 8px; font-size: 0.75rem; color: var(--a); font-weight: bold; text-transform: uppercase; }
        select, input { width: 100%; padding: 12px; background: #000; color: white; border: 1px solid var(--p); border-radius: 8px; box-sizing: border-box; }
    </style>
</head>
<body>

<header>
    <div onclick="toggleMenu()" style="cursor:pointer; font-size:1.5rem;">‚ò∞</div>
    <b id="txt-head">DINO GENERA: JURASSIC WORLD 3</b>
    <div style="width:30px"></div>
</header>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<div class="sidebar" id="sidebar">
    <h3 id="txt-side-title" style="color:var(--a); margin-top:0;">PAINEL DE CRIA√á√ÉO</h3>
    
    <div class="side-item">
        <label id="lbl-mass">Gerar em Massa (X)</label>
        <div style="display:flex; gap:5px; margin-bottom:10px;">
            <input type="number" id="add-qty" value="1" min="1" max="50" style="width:70px;">
            <select id="diet-filter" style="flex:1;">
                <option value="all" id="opt-all">Aleat√≥rio</option>
                <option value="car" id="opt-car">Carn√≠voros</option>
                <option value="her" id="opt-her">Herb√≠voros</option>
                <option value="pis" id="opt-pis">Pisc√≠voros</option>
                <option value="oni" id="opt-oni">On√≠voros</option>
            </select>
        </div>
        <button class="btn btn-a" onclick="multiAdd()" id="btn-multi-add">+ ADICIONAR V√ÅRIOS</button>
    </div>

    <div class="side-item">
        <label id="lbl-dlc">DLC: JW Revolution 3</label>
        <div id="dlc-container">
            <div class="dlc-item dlc-active" onclick="toggleDLC(this, 'car', 'Indoraptor Gen 2')">
                <span>Indoraptor G2</span> <div class="status-dot active-dot"></div>
            </div>
            <div class="dlc-item dlc-active" onclick="toggleDLC(this, 'her', 'Amargasaurus')">
                <span>Amargasaurus</span> <div class="status-dot active-dot"></div>
            </div>
            <div class="dlc-item dlc-active" onclick="toggleDLC(this, 'pis', 'Spinosaurus Gen 2')">
                <span>Spinosaurus G2</span> <div class="status-dot active-dot"></div>
            </div>
        </div>
    </div>

    <div class="side-item">
        <label id="lbl-settings">Configura√ß√µes</label>
        <select id="epic-mode" style="margin-bottom:10px;">
            <option value="off" id="opt-normal">Modo Normal</option>
            <option value="on" id="opt-epic">Modo √âpico (Sorte üçÄ)</option>
        </select>
        <select id="lang-select" onchange="changeLang(this.value)">
            <option value="pt">Portugu√™s</option>
            <option value="en">English</option>
        </select>
    </div>

    <div class="guide-section">
        <span class="guide-title" id="txt-guide-title">Significado das Cores</span>
        <div class="legend-item"><div class="dot" style="background:#ff4444"></div> <span id="leg-car">Carn√≠voro</span></div>
        <div class="legend-item"><div class="dot" style="background:#44ff44"></div> <span id="leg-her">Herb√≠voro</span></div>
        <div class="legend-item"><div class="dot" style="background:#4444ff"></div> <span id="leg-pis">Pisc√≠voro</span></div>
        <div class="legend-item"><div class="dot" style="background:#ffaa44"></div> <span id="leg-oni">On√≠voro</span></div>
    </div>

    <button class="btn btn-p" onclick="location.href='index.html'" id="btn-exit" style="background:#b8860b; margin-bottom:10px;">Sair para o Hub</button>
    <button class="btn btn-p" onclick="toggleMenu()" id="btn-close-menu" style="background:#333;">Fechar Menu</button>
</div>

<div class="main-content">
    <div class="controls-box">
        <div class="top-btns">
            <button class="btn btn-spin-all" onclick="spinAll()" id="btn-spin-all">GIRAR TODAS AS ROLETAS</button>
            <button class="btn btn-add-quick" onclick="addCard()" id="btn-add-main">+ ADICIONAR DINO</button>
            <button class="btn btn-clear" onclick="clearAll()" id="btn-del-all">LIMPAR TELA</button>
        </div>
    </div>
    <div id="wrapper-list"></div>
</div>

<script>
    const DINOS = {
        car: ["T-Rex", "Indominus Rex", "Giganotosaurus", "Velociraptor", "Atrociraptor", "Pyroraptor", "Carnotaurus", "Majungasaurus", "Allosaurus", "Spinosaurus"],
        her: ["Triceratops", "Therizinosaurus", "Ankylosaurus", "Stegosaurus", "Brachiosaurus", "Diplodocus", "Parasaurolophus", "Iguanodon"],
        pis: ["Mosasaurus", "Baryonyx", "Suchomimus", "Pteranodon", "Quetzalcoatlus", "Dimorphodon"],
        oni: ["Gallimimus", "Oviraptor", "Deinocheirus", "Struthiomimus"]
    };

    // Dinossauros Iniciais da DLC (Ativados por padr√£o)
    const DLC_DINOS = {
        car: ["Indoraptor Gen 2"],
        her: ["Amargasaurus"],
        pis: ["Spinosaurus Gen 2"],
        oni: []
    };

    // Mesclar DLC ao Pool inicial
    for(let k in DLC_DINOS) DINOS[k] = [...DINOS[k], ...DLC_DINOS[k]];

    const CHANCES_NORMAL = ["-100%", "-75%", "-50%", "-25%", "0%", "25%", "50%", "75%", "100%"];
    const CHANCES_EPIC = ["0%", "25%", "50%", "75%", "100%"];
    
    let currentLang = 'pt';
    let cardCount = 0;

    const TRANSLATIONS = {
        pt: {
            head: "DINO GENERA: JURASSIC WORLD 3",
            sideTitle: "PAINEL DE CRIA√á√ÉO",
            lblMass: "Gerar em Massa (X)",
            optAll: "Aleat√≥rio", optCar: "Carn√≠voros", optHer: "Herb√≠voros", optPis: "Pisc√≠voros", optOni: "On√≠voros",
            btnMulti: "+ ADICIONAR V√ÅRIOS",
            lblSettings: "Configura√ß√µes",
            lblDLC: "DLC: JW Revolution 3",
            optNormal: "Modo Normal", optEpic: "Modo √âpico (Sorte üçÄ)",
            guideTitle: "Significado das Cores",
            legCar: "Carn√≠voro", legHer: "Herb√≠voro", legPis: "Pisc√≠voro", legOni: "On√≠voro",
            btnExit: "Sair para o Hub", btnClose: "Fechar Menu",
            btnSpinAll: "GIRAR TODAS AS ROLETAS",
            btnAddMain: "+ ADICIONAR DINO",
            btnDelAll: "LIMPAR TELA",
            waiting: "AGUARDANDO...",
            spin: "GIRAR"
        },
        en: {
            head: "DINO GENERA: JURASSIC WORLD 3",
            sideTitle: "CREATION PANEL",
            lblMass: "Mass Spawn (X)",
            optAll: "Random", optCar: "Carnivores", optHer: "Herbivores", optPis: "Piscivores", optOni: "Omnivores",
            btnMulti: "+ ADD MULTIPLE",
            lblSettings: "Settings",
            lblDLC: "DLC: JW Revolution 3",
            optNormal: "Normal Mode", optEpic: "Epic Mode (Luck üçÄ)",
            guideTitle: "Color Meaning",
            legCar: "Carnivore", legHer: "Herbivore", legPis: "Piscivore", legOni: "Omnivore",
            btnExit: "Back to Hub", btnClose: "Close Menu",
            btnSpinAll: "SPIN ALL WHEELS",
            btnAddMain: "+ ADD DINO",
            btnDelAll: "CLEAR SCREEN",
            waiting: "WAITING...",
            spin: "SPIN"
        }
    };

    function toggleDLC(el, type, name) {
        const isActive = el.classList.toggle('dlc-active');
        const dot = el.querySelector('.status-dot');
        dot.classList.toggle('active-dot');

        if (isActive) {
            if (!DINOS[type].includes(name)) DINOS[type].push(name);
        } else {
            DINOS[type] = DINOS[type].filter(d => d !== name);
        }
    }

    function changeLang(l) {
        currentLang = l;
        const t = TRANSLATIONS[l];
        
        document.getElementById('txt-head').innerText = t.head;
        document.getElementById('txt-side-title').innerText = t.sideTitle;
        document.getElementById('lbl-mass').innerText = t.lblMass;
        document.getElementById('opt-all').innerText = t.optAll;
        document.getElementById('opt-car').innerText = t.optCar;
        document.getElementById('opt-her').innerText = t.optHer;
        document.getElementById('opt-pis').innerText = t.optPis;
        document.getElementById('opt-oni').innerText = t.optOni;
        document.getElementById('btn-multi-add').innerText = t.btnMulti;
        document.getElementById('lbl-settings').innerText = t.lblSettings;
        document.getElementById('lbl-dlc').innerText = t.lblDLC;
        document.getElementById('opt-normal').innerText = t.optNormal;
        document.getElementById('opt-epic').innerText = t.optEpic;
        document.getElementById('txt-guide-title').innerText = t.guideTitle;
        document.getElementById('leg-car').innerText = t.legCar;
        document.getElementById('leg-her').innerText = t.legHer;
        document.getElementById('leg-pis').innerText = t.legPis;
        document.getElementById('leg-oni').innerText = t.legOni;
        document.getElementById('btn-exit').innerText = t.btnExit;
        document.getElementById('btn-close-menu').innerText = t.btnClose;
        
        document.getElementById('btn-spin-all').innerText = t.btnSpinAll;
        document.getElementById('btn-add-main').innerText = t.btnAddMain;
        document.getElementById('btn-del-all').innerText = t.btnDelAll;

        document.querySelectorAll('.display-result').forEach(el => {
            if(el.innerText.includes("AGUARDANDO") || el.innerText.includes("WAITING")) el.innerText = t.waiting;
        });
        document.querySelectorAll('.btn-spin-card').forEach(el => el.innerText = t.spin);
    }

    function multiAdd() {
        const qty = parseInt(document.getElementById('add-qty').value) || 1;
        const diet = document.getElementById('diet-filter').value;
        for(let i=0; i<qty; i++) { addCard(diet); }
        toggleMenu();
    }

    function addCard(forcedDiet = 'all') {
        if(forcedDiet === 'all') forcedDiet = document.getElementById('diet-filter').value;
        cardCount++;
        const t = TRANSLATIONS[currentLang];
        
        const html = `
            <div class="dino-card" id="card-${cardCount}" data-diet="${forcedDiet}">
                <button class="btn btn-r" onclick="document.getElementById('card-${cardCount}').remove()">X</button>
                <div class="display-result" id="res-${cardCount}">${t.waiting}</div>
                <div class="grid-stats">
                    <div class="box-stat"><span class="stat-label">ATK</span><span class="val-stat" id="atk-${cardCount}">--</span></div>
                    <div class="box-stat"><span class="stat-label">DEF</span><span class="val-stat" id="def-${cardCount}">--</span></div>
                    <div class="box-stat"><span class="stat-label">ENE</span><span class="val-stat" id="ene-${cardCount}">--</span></div>
                </div>
                <button class="btn btn-p btn-spin-card" onclick="spin(${cardCount})">${t.spin}</button>
            </div>`;
        document.getElementById('wrapper-list').insertAdjacentHTML('beforeend', html);
    }

    function spin(id) {
        const cardEl = document.getElementById(`card-${id}`);
        const dietType = cardEl.getAttribute('data-diet');
        const isEpic = document.getElementById('epic-mode').value === 'on';
        
        let pool = (dietType === 'all') ? [].concat(...Object.values(DINOS)) : DINOS[dietType];
        
        if (pool.length === 0) {
            document.getElementById(`res-${id}`).innerText = "EMPTY POOL";
            return;
        }

        const chosen = pool[Math.floor(Math.random() * pool.length)];
        let realType = 'car';
        for(let t in DINOS) if(DINOS[t].includes(chosen)) realType = t;

        cardEl.className = `dino-card card-${realType}`;
        document.getElementById(`res-${id}`).innerText = "‚≠ê " + chosen;

        const chances = isEpic ? CHANCES_EPIC : CHANCES_NORMAL;
        ['atk', 'def', 'ene'].forEach(stat => {
            const val = chances[Math.floor(Math.random() * chances.length)];
            const el = document.getElementById(`${stat}-${id}`);
            el.innerText = val;
            el.className = 'val-stat ' + (val.includes('-') ? 'val-neg' : (val === '0%' ? '' : 'val-pos'));
        });
    }

    function spinAll() {
        document.querySelectorAll('.dino-card').forEach(card => spin(card.id.split('-')[1]));
    }

    function clearAll() { document.getElementById('wrapper-list').innerHTML = ""; }
    
    function toggleMenu() {
        const s = document.getElementById('sidebar');
        const o = document.getElementById('overlay');
        s.classList.toggle('open');
        o.style.display = s.classList.contains('open') ? 'block' : 'none';
    }

    addCard();
</script>
</body>
</html>
